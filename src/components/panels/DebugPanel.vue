<script setup>
import { ref } from 'vue'
import Panel from '../shared/Panel.vue'
import Details from '../shared/Details.vue'
import HungerSystemDebug from '../debug/HungerSystemDebug.vue'
import PoopSystemDebug from '../debug/PoopSystemDebug.vue'
import NeedsQueueDebug from '../debug/NeedsQueueDebug.vue'
import GameActionsDebug from '../debug/GameActionsDebug.vue'

const showDebugPanel = ref(false)

const emit = defineEmits(['gameReset'])

function toggleDebugPanel() {
  showDebugPanel.value = !showDebugPanel.value
}

function handleGameReset() {
  showDebugPanel.value = false
  emit('gameReset')
}

// Component logic moved to individual debug components

// Expose toggle function for external use
defineExpose({
  toggleDebugPanel
})
</script>

<template>
  <Panel 
    :isOpen="showDebugPanel" 
    title="üêõ Debug Panel" 
    @close="showDebugPanel = false"
  >
    <div class="gps-panel-content">
      <!-- Hunger System Section -->
      <Details>
        <template #summary>
          üçΩÔ∏è Hunger System
        </template>
        <template #content>
          <HungerSystemDebug />
        </template>
      </Details>
      
      <!-- Poop System Section -->
      <Details>
        <template #summary>
          üí© Poop System
        </template>
        <template #content>
          <PoopSystemDebug />
        </template>
      </Details>

      <!-- Needs Queue Section -->
      <Details>
        <template #summary>
          üéØ Needs Queue System
        </template>
        <template #content>
          <NeedsQueueDebug />
        </template>
      </Details>
      
      <!-- Game Actions Section -->
      <Details>
        <template #summary>
          ‚öôÔ∏è Game Actions
        </template>
        <template #content>
          <GameActionsDebug @gameReset="handleGameReset" />
        </template>
      </Details>
    </div>
  </Panel>
</template>

<style>
/* DebugPanel specific styles - component styles moved to individual debug components */
</style> 